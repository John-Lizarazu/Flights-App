(this["webpackJsonpflights-app"]=this["webpackJsonpflights-app"]||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(13),c=n.n(r),i=(n(92),n(18)),s=n.n(i),o=n(29),u=n(8),l=n(19),j=n(157),d=n(180),b=n(176),h=n(2);function p(e){var t=e.currencies,n=e.currency,a=e.handleChange;return Object(h.jsx)(j.a,{container:!0,spacing:1,children:Object(h.jsx)(j.a,{className:"grid-curr",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(b.a,{freeSolo:!0,options:t.map((function(e){return e.Code})),onChange:function(e){return a(e.target.innerHTML)},value:n,renderInput:function(e){return Object(h.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{label:"Select the currency",margin:"normal",variant:"outlined"}))}})})})}var m=n(30),O=n.n(m);function f(e){var t=e.countries,n=e.currency,r=e.destinationPlace,c=e.handlePlaceChange,i=e.handlePlacesChange,p=Object(a.useState)(""),m=Object(u.a)(p,2),f=m[0],x=m[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),y=v[0],S=v[1],k=Object(a.useState)([]),C=Object(u.a)(k,2),P=C[0],I=C[1];return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.filter((function(e){return e.Name===f})).length>0&&y.length>=2&&n.length>0)){e.next=8;break}return e.next=4,O.a.get("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/".concat(n,"/en-US/"),{params:{query:y},headers:{"x-rapidapi-key":"459b119038msh08814ff91df263ep16ed51jsn379cab344d53","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}});case 4:a=e.sent,r=a.data,I(r.Places),i(r.Places);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y,f,n,t]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(j.a,{container:!0,spacing:1,children:[Object(h.jsx)(j.a,{className:"d-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(d.a,{style:{width:"100%"},label:"Destination city/state",margin:"normal",variant:"outlined",value:y,onChange:function(e){return S(e.target.value)}})}),Object(h.jsx)(j.a,{className:"d-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(b.a,{freeSolo:!0,options:t.map((function(e){return e.Name})),onChange:function(e){return x(e.target.innerHTML)},value:f,renderInput:function(e){return Object(h.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{label:"Destination country",margin:"normal",variant:"outlined"}))}})})]}),y.length>0&&P&&P.length>0&&Object(h.jsx)(j.a,{className:"d-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(b.a,{freeSolo:!0,options:P.map((function(e){return e.PlaceName})),onChange:function(e){return c(e.target.innerHTML)},value:r.name,renderInput:function(e){return Object(h.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{label:"Select destination place",margin:"normal",variant:"outlined"}))}})})]})}var x=n(164),g=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300}}}));function v(e){var t=e.outboundDate,n=e.handleOutboundChange,a=g();return Object(h.jsx)("form",{className:a.container,noValidate:!0,children:Object(h.jsx)(d.a,{style:{width:"100%"},label:"Outbound Date",id:"date",type:"date",value:t,onChange:function(e){return n(e.target.value)},className:a.textField,InputLabelProps:{shrink:!0}})})}var y=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300}}}));function S(e){var t=e.InboundDate,n=e.handleInboundChange,a=y();return Object(h.jsx)("form",{className:a.container,noValidate:!0,children:Object(h.jsx)(d.a,{style:{width:"100%"},id:"date2",label:"Inbound Date",type:"date",value:t,onChange:function(e){return n(e.target.value)},className:a.textField,InputLabelProps:{shrink:!0}})})}function k(e){var t=e.outboundDate,n=e.handleOutboundChange,a=e.inboundDate,r=e.handleInboundChange;return Object(h.jsxs)(j.a,{container:!0,spacing:1,style:{marginTop:"1rem"},children:[Object(h.jsx)(j.a,{className:"a-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(v,{outboundDate:t,handleOutboundChange:n})}),Object(h.jsx)(j.a,{className:"a-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(S,{inboundDate:a,handleInboundChange:r})})]})}var C=n(165),P=n(177);function I(e){var t=e.anytime,n=e.handleCheck;return Object(h.jsx)(j.a,{container:!0,spacing:1,style:{marginTop:"2rem"},children:Object(h.jsx)(j.a,{className:"a-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(C.a,{control:Object(h.jsx)(P.a,{checked:t,onChange:n,name:"checkedB",color:"default"}),label:"View All Dates"})})})}var N=n(167),w=n(166);function D(e){var t=e.handleFlightOptions;return Object(h.jsx)(w.a,{title:"Search",children:Object(h.jsx)(N.a,{variant:"contained",color:"default",onClick:t,style:{marginBottom:"1.5rem",marginTop:"1.5rem"},children:"Search"})})}var L=n(25),F=n(168),M=n(169),Q=n(123),T=n(170),U=Object(x.a)({root:{minWidth:250},bullet:{display:"inline-block",margin:" 0 2px",transform:"scale(0.8"},title:{fontSize:12},pos:{marginBottom:12}});function B(e){var t=e.route,n=e.Symbol,a=e.carriers,r=e.places,c=e.cheap,i=U(),s=new Date(t.OutboundLeg.DepartureDate),o=new Date(t.InboundLeg.DepartureDate),u=new Date(t.QuoteDateTime),l=a.filter((function(e){return e.CarrierId===Number(t.OutboundLeg.CarrierIds[0])}))[0],j=a.filter((function(e){return e.CarrierId===Number(t.InboundLeg.CarrierIds[0])}))[0],d=r.filter((function(e){return e.PlaceId===t.OutboundLeg.OriginId}))[0],b=r.filter((function(e){return e.PlaceId===t.OutboundLeg.DestinationId}))[0];return Object(h.jsxs)(F.a,{className:i.root,variant:"outlined",children:[Object(h.jsxs)(M.a,{children:[Object(h.jsx)(Q.a,{className:i.title,color:"secondary",gutterBottom:!0,children:"Route #".concat(t.QuoteId)}),Object(h.jsx)(Q.a,{className:i.pos,color:"secondary",children:"".concat(t.Direct?"Direct Flight":"Non-direct Flight")}),Object(h.jsx)(Q.a,{variant:"h5",component:"h2",children:"Outbound"}),Object(h.jsxs)(Q.a,{variant:"body1",component:"p",children:[Object(h.jsx)("strong",{children:"Origin:"})," "," ",d?"".concat(d.Name," ").concat(d.Type):"Loading..",Object(h.jsx)("br",{})]}),Object(h.jsxs)(Q.a,{variant:"body1",component:"p",children:[Object(h.jsx)("strong",{children:"Carrier: "})," ",l?"".concat(l.Name):"Loading..",Object(h.jsx)("br",{})]}),Object(h.jsxs)(Q.a,{variant:"body1",component:"p",children:[Object(h.jsx)("strong",{children:"Departure date: "})," ","".concat(s),Object(h.jsx)("br",{})]}),Object(h.jsx)(Q.a,{variant:"h5",component:"h2",children:"Inbound"}),Object(h.jsxs)(Q.a,{variant:"body1",component:"p",children:[Object(h.jsx)("strong",{children:"Destination: "})," "," ",b?"".concat(b.Name," ").concat(b.Type):"Loading..",Object(h.jsx)("br",{})]}),Object(h.jsxs)(Q.a,{variant:"body1",component:"p",children:[Object(h.jsx)("strong",{children:"Carrier: "})," ",j?"".concat(j.Name):"Loading...",Object(h.jsx)("br",{})]}),Object(h.jsxs)(Q.a,{variant:"body1",component:"p",children:[Object(h.jsx)("strong",{children:"Departure date: "})," ","".concat(o),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(Q.a,{variant:"body1",component:"p",children:[Object(h.jsx)("strong",{children:"Quote date: "})," ","".concat(u)]})]}),Object(h.jsx)(T.a,{children:c?Object(h.jsx)(N.a,{size:"small",variant:"contained",children:"Route min. price: ".concat(n," ").concat(t.MinPrice)}):Object(h.jsx)(N.a,{size:"small",children:"Route min price: ".concat(n," ").concat(t.MinPrice)})})]})}var H=n(163),R=n(182),E=n(175),W=n(183),z=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function q(e){var t,n=e.routes,r=e.currency,c=e.currencies,i=e.carriers,s=e.places,o=z(),l=Object(a.useState)(-1),d=Object(u.a)(l,2),b=d[0],p=d[1];t=r.length>0?c.filter((function(e){return e.Code===r}))[0].Symbol:"",-1===b?n.sort((function(e,t){return e.QuoteId>t.QuoteId?1:-1})):n.sort((function(e,t){return e.QuoteId<t.QuoteId?1:-1}));var m,O=Object(L.a)(n).sort((function(e,t){return e.QuoteId>t.QuoteId?1:-1}));return O.length>=3?m=[O[0].MinPrice,O[1].MinPrice,O[2].MinPrice]:O.length>=2?m=[O[0].MinPrice,O[1].MinPrice]:O.length>=1&&(m=[O[0].MinPrice]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{container:!0,justify:"center",style:{marginBottom:"2rem"},children:Object(h.jsxs)(H.a,{className:o.formControl,children:[Object(h.jsx)(R.a,{id:"demo-simple-select-label",children:"Sort by"}),Object(h.jsxs)(E.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,onChange:function(e){return p(e.target.value)},children:[Object(h.jsx)(W.a,{value:-1,children:"Price low to high"}),Object(h.jsx)(W.a,{value:1,children:"Price high to low"})]})]})}),Object(h.jsx)(j.a,{container:!0,justify:"center",spacing:4,children:n.map((function(e){return Object(h.jsx)(j.a,{item:!0,xs:12,sm:6,md:4,children:Object(h.jsx)(B,{route:e,Symbol:t,carriers:i,places:s,cheap:m.includes(e.MinPrice)})},e.QuoteId)}))})]})}function V(e){var t=e.countries,n=e.currency,r=e.originPlace,c=e.handlePlaceChange,i=e.handlePlacesChange,p=Object(a.useState)(""),m=Object(u.a)(p,2),f=m[0],x=m[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),y=v[0],S=v[1],k=Object(a.useState)([]),C=Object(u.a)(k,2),P=C[0],I=C[1];return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f.length>=2&&n.length>0)){e.next=7;break}return e.next=3,O.a.get("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/".concat(n,"/en-US/"),{params:{query:f},headers:{"x-rapidapi-key":"459b119038msh08814ff91df263ep16ed51jsn379cab344d53","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}});case 3:t=e.sent,a=t.data,I(a.Places),i(a.Places);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f,y,n,t]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(j.a,{container:!0,spacing:1,children:[Object(h.jsx)(j.a,{className:"d-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(d.a,{style:{width:"100%"},label:"Origin city/state",margin:"normal",variant:"outlined",value:f,onChange:function(e){return x(e.target.value)}})}),Object(h.jsx)(j.a,{className:"d-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(b.a,{freeSolo:!0,options:t.map((function(e){return e.Name})),onChange:function(e){return S(e.target.innerHTML)},value:y,renderInput:function(e){return Object(h.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{label:"Origin country",margin:"normal",variant:"outlined"}))}})})]}),f.length>0&&P&&P.length>0&&Object(h.jsx)(j.a,{className:"d-flex",item:!0,form:"maincomponent",xs:!0,children:Object(h.jsx)(b.a,{freeSolo:!0,options:P.map((function(e){return e.PlaceName})),onChange:function(e){return c(e.target.innerHTML)},value:r,renderInput:function(e){return Object(h.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{label:"Select origin place",margin:"normal",variant:"outlined"}))}})})]})}var A=n(179),G=n(178);function J(e){var t=e.text,n=e.severity,a=e.open,r=e.handleClose;return Object(h.jsx)(A.a,{open:a,autoHideDuration:12e3,onClose:r,children:Object(h.jsx)(G.a,{onClose:r,severity:n,children:t})})}function K(){return Object(h.jsx)(G.a,{severity:"warning",children:"Nothing to display at the moment! Double check your information for any mistakes."})}var X=n(171),Y=n(172),Z=Object(x.a)((function(e){return{root:{FlexGrow:2},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function $(){var e=Z();return Object(h.jsx)(X.a,{position:"static",color:"default",children:Object(h.jsx)(Y.a,{children:Object(h.jsx)(Q.a,{variant:"h5",align:"center",className:e.title,children:"Find Flights"})})})}var _=n(174),ee=n(173);function te(){return Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)(ee.a,{size:100,thickness:1.5})})}n(68);function ne(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),l=i[0],j=i[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),m=b[0],x=b[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),y=v[0],S=v[1],C=Object(a.useState)(!1),P=Object(u.a)(C,2),N=P[0],w=P[1],L=Object(a.useState)(""),F=Object(u.a)(L,2),M=F[0],Q=F[1],T=Object(a.useState)(""),U=Object(u.a)(T,2),B=U[0],H=U[1],R=Object(a.useState)(""),E=Object(u.a)(R,2),W=E[0],z=E[1],A=Object(a.useState)([]),G=Object(u.a)(A,2),X=G[0],Y=G[1],Z=Object(a.useState)(""),ee=Object(u.a)(Z,2),ne=ee[0],ae=ee[1],re=Object(a.useState)(""),ce=Object(u.a)(re,2),ie=ce[0],se=ce[1],oe=Object(a.useState)(!0),ue=Object(u.a)(oe,2),le=ue[0],je=ue[1],de=Object(a.useState)(""),be=Object(u.a)(de,2),he=be[0],pe=be[1],me=Object(a.useState)([]),Oe=Object(u.a)(me,2),fe=Oe[0],xe=Oe[1],ge=Object(a.useState)([]),ve=Object(u.a)(ge,2),ye=ve[0],Se=ve[1],ke=Object(a.useState)([]),Ce=Object(u.a)(ke,2),Pe=Ce[0],Ie=Ce[1],Ne=Object(a.useState)([]),we=Object(u.a)(Ne,2),De=we[0],Le=we[1],Fe=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&he&&W){e.next=6;break}return Q("Input required fields please"),H("error"),e.abrupt("return",w(!0));case 6:if(le||ie&&ne){e.next=10;break}return Q("Select the date from checkbox or enter the inbound date and outbound date!"),H("error"),e.abrupt("return",w(!0));case 10:return x(!0),t=fe.filter((function(e){return e.PlaceName===he}))[0].PlaceId,n=X.filter((function(e){return e.PlaceName===W}))[0].PlaceId,a=le?"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsedates/v1.0/US/".concat(y,"/en-US/").concat(t,"/").concat(n,"/anytime/anytime"):"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsedates/v1.0/US/".concat(y,"/en-US/").concat(t,"/").concat(n,"/").concat(ne,"/").concat(ie),e.next=16,O.a.get(a,{headers:{"x-rapidapi-key":"459b119038msh08814ff91df263ep16ed51jsn379cab344d53","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}});case 16:r=e.sent,c=r.data,Se(c.Quotes),Le(c.Carriers),Ie(c.Places),x(!1),Q("Successfully fetched ".concat(c.Quotes.length," routes!")),H("success"),w(c.Quotes.length>0&&!0);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e={headers:{"x-rapidapi-key":"459b119038msh08814ff91df263ep16ed51jsn379cab344d53","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}},t=function(){var t=Object(o.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/reference/v1.0/currencies",e);case 2:n=t.sent,a=n.data,j(a.Currencies);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(o.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/reference/v1.0/countries/en-US",e);case 2:n=t.sent,a=n.data,r(a.Countries);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),n()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)($,{}),Object(h.jsxs)(_.a,{maxWidth:"md",children:[Object(h.jsx)(p,{currency:y,currencies:l,handleChange:function(e){return S(e)}}),Object(h.jsx)(f,{currency:y,countries:n,destinationPlace:W,handlePlaceChange:function(e){return z(e)},handlePlacesChange:function(e){return Y(e)}}),Object(h.jsx)(V,{currency:y,countries:n,originPlace:he,handlePlaceChange:function(e){return pe(e)},handlePlacesChange:function(e){return xe(e)}}),Object(h.jsx)(k,{outboundDate:ne,handleOutboundChange:function(e){return ae(e)},inboundDate:ie,handleInboundChange:function(e){return se(e)}}),Object(h.jsx)(I,{anytime:le,handleCheck:function(e){return je(e.target.checked)}}),Object(h.jsx)(D,{handleFlightOptions:Fe}),m?Object(h.jsx)(te,{}):ye.length>0?Object(h.jsx)(q,{routes:ye,currency:y,currencies:l,carriers:De,places:Pe}):Object(h.jsx)(K,{}),Object(h.jsx)(J,{severity:B,text:M,open:N,handleClose:function(e,t){"clickaway"!==t&&w(!1)}})]})]})}c.a.render(Object(h.jsx)(ne,{}),document.getElementById("root"))},68:function(e,t,n){},92:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.6976ce3a.chunk.js.map